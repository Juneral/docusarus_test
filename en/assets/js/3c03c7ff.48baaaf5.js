"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[87834],{46485:(e,t,n)=>{n.d(t,{Z:()=>a});const a='#\n# Your Crowdin credentials\n#\nproject_id: \'428890\'\napi_token_env: CROWDIN_PERSONAL_TOKEN\n# base_path: \'.\'\n# base_url: https://api.crowdin.com\n\n#\n# Choose file structure in Crowdin\n# e.g. true or false\n#\npreserve_hierarchy: true\n\n# We generally want to use the "two-letters-code" of a locale (ie the language)\n# But not for all locales!\n# "pt-BR" may be better to remain as "pt-BR" instead of being transformed to "pt"\n# Note: &/* is Yaml anchor syntax: https://support.atlassian.com/bitbucket-cloud/docs/yaml-anchors/\nlanguages_mapping: &languages_mapping\n  two_letters_code:\n    pt-BR: pt-BR\n\n#\n# Files configuration\n#\nfiles:\n  - source: /website/i18n/en/**/*\n    translation: /website/i18n/%two_letters_code%/**/%original_file_name%\n    languages_mapping: *languages_mapping\n  - source: /website/docs/**/*\n    translation: /website/i18n/%two_letters_code%/docusaurus-plugin-content-docs/current/**/%original_file_name%\n    languages_mapping: *languages_mapping\n  - source: /website/community/**/*\n    translation: /website/i18n/%two_letters_code%/docusaurus-plugin-content-docs-community/current/**/%original_file_name%\n    languages_mapping: *languages_mapping\n  - source: /website/versioned_docs/**/*\n    translation: /website/i18n/%two_letters_code%/docusaurus-plugin-content-docs/**/%original_file_name%\n    languages_mapping: *languages_mapping\n  - source: /website/blog/**/*\n    translation: /website/i18n/%two_letters_code%/docusaurus-plugin-content-blog/**/%original_file_name%\n    languages_mapping: *languages_mapping\n  - source: /website/src/pages/**/*\n    translation: /website/i18n/%two_letters_code%/docusaurus-plugin-content-pages/**/%original_file_name%\n    ignore: [/**/*.js, /**/*.jsx, /**/*.ts, /**/*.tsx, /**/*.css]\n    languages_mapping: *languages_mapping\n#\n# Source files filter\n# e.g. "/resources/en/*.json"\n#\n#"source" : "/website/docs/**/*.md",\n#\n# Where translations will be placed\n# e.g. "/resources/docs/%two_letters_code%/%original_file_name%"\n#\n#"translation" : "/website/i18n/%language%/docs/current/%original_file_name%",\n#\n# Files or directories for ignore\n# e.g. ["/**/?.txt", "/**/[0-9].txt", "/**/*\\?*.txt"]\n#\n#"ignore" : [],\n#\n# The dest allows you to specify a file name in Crowdin\n# e.g. "/messages.json"\n#\n#"dest" : "",\n#\n# File type\n# e.g. "json"\n#\n#"type" : "",\n#\n# The parameter "update_option" is optional. If it is not set, after the files update the translations for changed strings will be removed. Use to fix typos and for minor changes in the source strings\n# e.g. "update_as_unapproved" or "update_without_changes"\n#\n#"update_option" : "",\n#\n# Start block (for XML only)\n#\n#\n# Defines whether to translate tags attributes.\n# e.g. 0 or 1  (Default is 1)\n#\n# "translate_attributes" : 1,\n#\n# Defines whether to translate texts placed inside the tags.\n# e.g. 0 or 1 (Default is 1)\n#\n# "translate_content" : 1,\n#\n# This is an array of strings, where each item is the XPaths to DOM element that should be imported\n# e.g. ["/content/text", "/content/text[@value]"]\n#\n# "translatable_elements" : [],\n#\n# Defines whether to split long texts into smaller text segments\n# e.g. 0 or 1 (Default is 1)\n#\n# "content_segmentation" : 1,\n#\n# End block (for XML only)\n#\n#\n# Start .properties block\n#\n#\n# Defines whether single quote should be escaped by another single quote or backslash in exported translations\n# e.g. 0 or 1 or 2 or 3 (Default is 3)\n# 0 - do not escape single quote;\n# 1 - escape single quote by another single quote;\n# 2 - escape single quote by backslash;\n# 3 - escape single quote by another single quote only in strings containing variables ( {0} ).\n#\n# "escape_quotes" : 3,\n#\n# Defines whether any special characters (=, :, ! and #) should be escaped by backslash in exported translations.\n# e.g. 0 or 1 (Default is 0)\n# 0 - do not escape special characters\n# 1 - escape special characters by a backslash\n#\n# "escape_special_characters": 0\n#\n#\n# End .properties block\n#\n#\n# Often software projects have custom names for the directories where translations are placed. crowdin-cli allows you to map your own languages to be understandable by Crowdin.\n#\n#"languages_mapping" : {\n#  "two_letters_code" : {\n#    "crowdin_language_code" : "local_name"\n#   }\n#},\n#\n# Does the first line contain header?\n# e.g. true or false\n#\n#"first_line_contains_header" : true,\n#\n# for spreadsheets\n# e.g. "identifier,source_phrase,context,uk,ru,fr"\n#\n# "scheme" : "",\n'},61132:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(27378),o=n(38944);const r="tabItem_pnkT";function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}function l({children:e,hidden:t,className:n}){return a.createElement("div",i({role:"tabpanel",className:(0,o.Z)(r,n)},{hidden:t}),e)}},38269:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(27378),o=n(38944),r=n(29088),i=n(52196),l=n(77468),s=n(75527);const c="tabList_Qoir",u="tabItem_AQgk";function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(this,arguments)}function d(e){var t;const{lazy:n,block:r,defaultValue:d,values:m,groupId:g,className:h}=e,f=a.Children.map(e.children,(e=>{if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),k=null!=m?m:f.map((({props:{value:e,label:t,attributes:n}})=>({value:e,label:t,attributes:n}))),b=(0,i.l)(k,((e,t)=>e.value===t.value));if(b.length>0)throw new Error(`Docusaurus error: Duplicate values "${b.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var w;const y=null===d?d:null!==(w=null!=d?d:null===(t=f.find((e=>e.props.default)))||void 0===t?void 0:t.props.value)&&void 0!==w?w:f[0].props.value;if(null!==y&&!k.some((e=>e.value===y)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${y}" but none of its children has the corresponding value. Available values are: ${k.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:v,setTabGroupChoices:N}=(0,l.U)(),[C,_]=(0,a.useState)(y),O=[],{blockElementScrollPositionUntilNextRender:E}=(0,s.o5)();if(null!=g){const e=v[g];null!=e&&e!==C&&k.some((t=>t.value===e))&&_(e)}const j=e=>{const t=e.currentTarget,n=O.indexOf(t),a=k[n].value;a!==C&&(E(t),_(a),null!=g&&N(g,String(a)))},T=e=>{let t=null;switch(e.key){case"Enter":j(e);break;case"ArrowRight":{const a=O.indexOf(e.currentTarget)+1;var n;t=null!==(n=O[a])&&void 0!==n?n:O[0];break}case"ArrowLeft":{const n=O.indexOf(e.currentTarget)-1;var a;t=null!==(a=O[n])&&void 0!==a?a:O[O.length-1];break}}null==t||t.focus()};return a.createElement("div",{className:(0,o.Z)("tabs-container",c)},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":r},h)},k.map((({value:e,label:t,attributes:n})=>a.createElement("li",p({role:"tab",tabIndex:C===e?0:-1,"aria-selected":C===e,key:e,ref:e=>O.push(e),onKeyDown:T,onClick:j},n,{className:(0,o.Z)("tabs__item",u,null==n?void 0:n.className,{"tabs__item--active":C===e})}),null!=t?t:e)))),n?(0,a.cloneElement)(f.filter((e=>e.props.value===C))[0],{className:"margin-top--md"}):a.createElement("div",{className:"margin-top--md"},f.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==C})))))}function m(e){const t=(0,r.Z)();return a.createElement(d,p({key:String(t)},e))}},50016:(e,t,n)=>{n.d(t,{p:()=>r});var a=n(78844),o=n(73919);function r(){const{prism:e}=(0,o.L)(),{colorMode:t}=(0,a.I)(),n=e.theme,r=e.darkTheme||n;return"dark"===t?r:n}},55188:(e,t,n)=>{n.d(t,{v:()=>l});var a=n(70124);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){o(e,t,n[t])}))}return e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function l(e,t){return(0,a.v)(e,i(r({},t),{transforms:r({asyncAwait:!1,classes:!1,getterSetter:!1},t.transforms)}))}},94544:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(27378),o=n(29088);function r({children:e,fallback:t}){return(0,o.Z)()?a.createElement(a.Fragment,null,null==e?void 0:e()):null!=t?t:null}},93457:(e,t,n)=>{n.d(t,{Z:()=>fe});var a={};n.r(a),n.d(a,{ButtonExample:()=>j});var o=n(27378),r=n(38944),i=n(29088),l=n(40935),s=n(36712),c=n(4423),u=n(94544),p=n(50016);const d="playgroundContainer_6Ior",m="playgroundHeader_Tvsk",g="playgroundEditor_TySg",h="playgroundPreview_mApW";function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f.apply(this,arguments)}function k(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function b({children:e}){return o.createElement("div",{className:(0,r.Z)(m)},e)}function w(){return o.createElement("div",null,"Loading...")}function y(){return o.createElement(o.Fragment,null,o.createElement(b,null,o.createElement(s.Z,{id:"theme.Playground.result",description:"The result label of the live codeblocks"},"Result")),o.createElement("div",{className:h},o.createElement(u.Z,{fallback:o.createElement(w,null)},(()=>o.createElement(o.Fragment,null,o.createElement(l.i5,null),o.createElement(l.IF,null))))))}function v(){const e=(0,i.Z)();return o.createElement(l.uz,{key:String(e),className:g})}function N(){return o.createElement(o.Fragment,null,o.createElement(b,null,o.createElement(s.Z,{id:"theme.Playground.liveEditor",description:"The live editor label of the live codeblocks"},"Live Editor")),o.createElement(v,null))}function C(e){var t,{children:n,transformCode:a}=e,r=k(e,["children","transformCode"]);const{siteConfig:{themeConfig:i}}=(0,c.Z)(),{liveCodeBlock:{playgroundPosition:s}}=i,u=(0,p.p)();var m;const g=null!==(m=null===(t=r.metastring)||void 0===t?void 0:t.includes("noInline"))&&void 0!==m&&m;return o.createElement("div",{className:d},o.createElement(l.nu,f({code:n.replace(/\n$/,""),noInline:g,transformCode:null!=a?a:e=>`${e};`,theme:u},r),"top"===s?o.createElement(o.Fragment,null,o.createElement(y,null),o.createElement(N,null)):o.createElement(o.Fragment,null,o.createElement(N,null),o.createElement(y,null))))}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},O.apply(this,arguments)}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){_(e,t,n[t])}))}return e}function j(e){return o.createElement("button",O({type:"button"},e,{style:E({backgroundColor:"white",color:"black",border:"solid red",borderRadius:20,padding:10,cursor:"pointer"},e.style)}))}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){T(e,t,n[t])}))}return e}({React:o},o,a);var I,S,D=n(89583),L=n(6324),P=n.n(L);const B=RegExp("title=(?<quote>[\"'])(?<title>.*?)\\1"),Z=RegExp("\\{(?<range>[\\d,-]+)\\}"),M={js:{start:"\\/\\/",end:""},jsBlock:{start:"\\/\\*",end:"\\*\\/"},jsx:{start:"\\{\\s*\\/\\*",end:"\\*\\/\\s*\\}"},bash:{start:"#",end:""},html:{start:"\x3c!--",end:"--\x3e"}};function A(e,t){const n=e.map((e=>{const{start:n,end:a}=M[e];return`(?:${n}\\s*(${t.flatMap((e=>{var t,n;return[e.line,null===(t=e.block)||void 0===t?void 0:t.start,null===(n=e.block)||void 0===n?void 0:n.end].filter(Boolean)})).join("|")})\\s*${a})`})).join("|");return new RegExp(`^\\s*(?:${n})\\s*$`)}function U(e,t){let n=e.replace(/\n$/,"");const{language:a,magicComments:o,metastring:r}=t;if(r&&Z.test(r)){const e=r.match(Z).groups.range;if(0===o.length)throw new Error(`A highlight range has been given in code block's metastring (\`\`\` ${r}), but no magic comment config is available. Docusaurus applies the first magic comment entry's className for metastring ranges.`);const t=o[0].className,a=P()(e).filter((e=>e>0)).map((e=>[e-1,[t]]));return{lineClassNames:Object.fromEntries(a),code:n}}if(void 0===a)return{lineClassNames:{},code:n};const i=function(e,t){switch(e){case"js":case"javascript":case"ts":case"typescript":return A(["js","jsBlock"],t);case"jsx":case"tsx":return A(["js","jsBlock","jsx"],t);case"html":return A(["js","jsBlock","html"],t);case"python":case"py":case"bash":return A(["bash"],t);case"markdown":case"md":return A(["html","jsx","bash"],t);default:return A(Object.keys(M),t)}}(a,o),l=n.split("\n"),s=Object.fromEntries(o.map((e=>[e.className,{start:0,range:""}]))),c=Object.fromEntries(o.filter((e=>e.line)).map((({className:e,line:t})=>[t,e]))),u=Object.fromEntries(o.filter((e=>e.block)).map((({className:e,block:t})=>[t.start,e]))),p=Object.fromEntries(o.filter((e=>e.block)).map((({className:e,block:t})=>[t.end,e])));for(let m=0;m<l.length;){const e=l[m].match(i);if(!e){m+=1;continue}const t=e.slice(1).find((e=>void 0!==e));c[t]?s[c[t]].range+=`${m},`:u[t]?s[u[t]].start=m:p[t]&&(s[p[t]].range+=`${s[p[t]].start}-${m-1},`),l.splice(m,1)}n=l.join("\n");const d={};return Object.entries(s).forEach((([e,{range:t}])=>{P()(t).forEach((t=>{var n;null!==(n=(I=d)[S=t])&&void 0!==n||(I[S]=[]),d[t].push(e)}))})),{lineClassNames:d,code:n}}const R="codeBlockContainer_jDV4";function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},W.apply(this,arguments)}function G(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function H(e){var{as:t}=e,n=G(e,["as"]);const a=function(e){const t={color:"--prism-color",backgroundColor:"--prism-background-color"},n={};return Object.entries(e.plain).forEach((([e,a])=>{const o=t[e];o&&"string"==typeof a&&(n[o]=a)})),n}((0,p.p)());return o.createElement(t,W({},n,{style:a,className:(0,r.Z)(n.className,R,D.k.common.codeBlock)}))}const X={codeBlockContent:"codeBlockContent_vx7S",codeBlockTitle:"codeBlockTitle_bdru",codeBlock:"codeBlock_Gebt",codeBlockStandalone:"codeBlockStandalone_i_cY",codeBlockLines:"codeBlockLines_FJaf",codeBlockLinesWithNumbering:"codeBlockLinesWithNumbering_FU9Q",buttonGroup:"buttonGroup_cUGO"};function z({children:e,className:t}){return o.createElement(H,{as:"pre",tabIndex:0,className:(0,r.Z)(X.codeBlockStandalone,"thin-scrollbar",t)},o.createElement("code",{className:X.codeBlockLines},e))}var F=n(73919),$=n(51114);const J={attributes:!0,characterData:!0,childList:!0,subtree:!0};function q(e,t){const[n,a]=(0,o.useState)(),r=(0,o.useCallback)((()=>{var t;a(null===(t=e.current)||void 0===t?void 0:t.closest("[role=tabpanel][hidden]"))}),[e,a]);(0,o.useEffect)((()=>{r()}),[r]),function(e,t,n=J){const a=(0,$.zX)(t),r=(0,$.Ql)(n);(0,o.useEffect)((()=>{const t=new MutationObserver(a);return e&&t.observe(e,r),()=>t.disconnect()}),[e,a,r])}(n,(e=>{e.forEach((e=>{"attributes"===e.type&&"hidden"===e.attributeName&&(t(),r())}))}),{attributes:!0,characterData:!1,childList:!1,subtree:!1})}var Y=n(55620);const V="codeLine_qRmp",K="codeLineNumber_dS_J",Q="codeLineContent_XF5l";function ee(){return ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ee.apply(this,arguments)}function te({line:e,classNames:t,showLineNumbers:n,getLineProps:a,getTokenProps:i}){1===e.length&&"\n"===e[0].content&&(e[0].content="");const l=a({line:e,className:(0,r.Z)(t,n&&V)}),s=e.map(((e,t)=>o.createElement("span",ee({key:t},i({token:e,key:t})))));return o.createElement("span",ee({},l),n?o.createElement(o.Fragment,null,o.createElement("span",{className:K}),o.createElement("span",{className:Q},s)):s,o.createElement("br",null))}var ne=n(5568);const ae={copyButtonCopied:"copyButtonCopied_OkN_",copyButtonIcons:"copyButtonIcons_OqsO",copyButtonIcon:"copyButtonIcon_PgCn",copyButtonSuccessIcon:"copyButtonSuccessIcon_bsQG"};function oe({code:e,className:t}){const[n,a]=(0,o.useState)(!1),i=(0,o.useRef)(void 0),l=(0,o.useCallback)((()=>{(0,ne.Z)(e),a(!0),i.current=window.setTimeout((()=>{a(!1)}),1e3)}),[e]);return(0,o.useEffect)((()=>()=>window.clearTimeout(i.current)),[]),o.createElement("button",{type:"button","aria-label":n?(0,s.I)({id:"theme.CodeBlock.copied",message:"Copied",description:"The copied button label on code blocks"}):(0,s.I)({id:"theme.CodeBlock.copyButtonAriaLabel",message:"Copy code to clipboard",description:"The ARIA label for copy code blocks button"}),title:(0,s.I)({id:"theme.CodeBlock.copy",message:"Copy",description:"The copy button label on code blocks"}),className:(0,r.Z)("clean-btn",t,ae.copyButton,n&&ae.copyButtonCopied),onClick:l},o.createElement("span",{className:ae.copyButtonIcons,"aria-hidden":"true"},o.createElement("svg",{className:ae.copyButtonIcon,viewBox:"0 0 24 24"},o.createElement("path",{d:"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"})),o.createElement("svg",{className:ae.copyButtonSuccessIcon,viewBox:"0 0 24 24"},o.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))))}const re="wordWrapButtonIcon_MQXS",ie="wordWrapButtonEnabled_TBIH";function le({className:e,onClick:t,isEnabled:n}){const a=(0,s.I)({id:"theme.CodeBlock.wordWrapToggle",message:"Toggle word wrap",description:"The title attribute for toggle word wrapping button of code block lines"});return o.createElement("button",{type:"button",onClick:t,className:(0,r.Z)("clean-btn",e,n&&ie),"aria-label":a,title:a},o.createElement("svg",{className:re,viewBox:"0 0 24 24","aria-hidden":"true"},o.createElement("path",{fill:"currentColor",d:"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"})))}function se(){return se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},se.apply(this,arguments)}function ce({children:e,className:t="",metastring:n,title:a,showLineNumbers:i,language:l}){const{prism:{defaultLanguage:s,magicComments:c}}=(0,F.L)();var u;const d=null!==(u=null!=l?l:function(e){const t=e.split(" ").find((e=>e.startsWith("language-")));return null==t?void 0:t.replace(/language-/,"")}(t))&&void 0!==u?u:s,m=(0,p.p)(),g=function(){const[e,t]=(0,o.useState)(!1),[n,a]=(0,o.useState)(!1),r=(0,o.useRef)(null),i=(0,o.useCallback)((()=>{const n=r.current.querySelector("code");e?n.removeAttribute("style"):(n.style.whiteSpace="pre-wrap",n.style.overflowWrap="anywhere"),t((e=>!e))}),[r,e]),l=(0,o.useCallback)((()=>{const{scrollWidth:e,clientWidth:t}=r.current,n=e>t||r.current.querySelector("code").hasAttribute("style");a(n)}),[r]);return q(r,l),(0,o.useEffect)((()=>{l()}),[e,l]),(0,o.useEffect)((()=>(window.addEventListener("resize",l,{passive:!0}),()=>{window.removeEventListener("resize",l)})),[l]),{codeBlockRef:r,isEnabled:e,isCodeScrollable:n,toggle:i}}(),h=function(e){var t,n;return null!==(n=null===(t=null==e?void 0:e.match(B))||void 0===t?void 0:t.groups.title)&&void 0!==n?n:""}(n)||a,{lineClassNames:f,code:k}=U(e,{metastring:n,language:d,magicComments:c}),b=null!=i?i:function(e){return Boolean(null==e?void 0:e.includes("showLineNumbers"))}(n);return o.createElement(H,{as:"div",className:(0,r.Z)(t,d&&!t.includes(`language-${d}`)&&`language-${d}`)},h&&o.createElement("div",{className:X.codeBlockTitle},h),o.createElement("div",{className:X.codeBlockContent},o.createElement(Y.ZP,se({},Y.lG,{theme:m,code:k,language:null!=d?d:"text"}),(({className:e,tokens:t,getLineProps:n,getTokenProps:a})=>o.createElement("pre",{tabIndex:0,ref:g.codeBlockRef,className:(0,r.Z)(e,X.codeBlock,"thin-scrollbar")},o.createElement("code",{className:(0,r.Z)(X.codeBlockLines,b&&X.codeBlockLinesWithNumbering)},t.map(((e,t)=>o.createElement(te,{key:t,line:e,getLineProps:n,getTokenProps:a,classNames:f[t],showLineNumbers:b}))))))),o.createElement("div",{className:X.buttonGroup},(g.isEnabled||g.isCodeScrollable)&&o.createElement(le,{className:X.codeButton,onClick:()=>g.toggle(),isEnabled:g.isEnabled}),o.createElement(oe,{className:X.codeButton,code:k}))))}function ue(){return ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ue.apply(this,arguments)}function pe(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function de(){return de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},de.apply(this,arguments)}const me=(ge=function(e){var{children:t}=e,n=pe(e,["children"]);const a=(0,i.Z)(),r=function(e){return o.Children.toArray(e).some((e=>(0,o.isValidElement)(e)))?e:Array.isArray(e)?e.join(""):e}(t),l="string"==typeof r?ce:z;return o.createElement(l,ue({key:String(a)},n),r)},function(e){return e.live?o.createElement(C,de({scope:x},e)):o.createElement(ge,de({},e))});var ge;function he(){return he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},he.apply(this,arguments)}function fe(e){return o.createElement(me,he({},e))}},98147:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>p,default:()=>f,frontMatter:()=>u,metadata:()=>d,toc:()=>g});n(27378);var a=n(35318),o=n(38269),r=n(61132),i=n(46485),l=n(93457);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const u={id:"crowdin",slug:"/i18n/crowdin",toc_max_heading_level:4},p="i18n - Using Crowdin",d={unversionedId:"i18n/crowdin",id:"i18n/crowdin",title:"i18n - Using Crowdin",description:"The i18n system of Docusaurus is decoupled from any translation software.",source:"@site/docs/i18n/i18n-crowdin.mdx",sourceDirName:"i18n",slug:"/i18n/crowdin",permalink:"/docusarus_test/en/docs/next/i18n/crowdin",draft:!1,editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/i18n/i18n-crowdin.mdx",tags:[],version:"current",frontMatter:{id:"crowdin",slug:"/i18n/crowdin",toc_max_heading_level:4},sidebar:"docs",previous:{title:"i18n - Using git",permalink:"/docusarus_test/en/docs/next/i18n/git"},next:{title:"What's next?",permalink:"/docusarus_test/en/docs/next/guides/whats-next"}},m={},g=[{value:"Crowdin overview",id:"crowdin-overview",level:2},{value:"Crowdin tutorial",id:"crowdin-tutorial",level:2},{value:"Prepare the Docusaurus site",id:"prepare-the-docusaurus-site",level:3},{value:"Create a Crowdin project",id:"create-a-crowdin-project",level:3},{value:"Create the Crowdin configuration",id:"create-the-crowdin-configuration",level:3},{value:"Access token",id:"access-token",level:4},{value:"Other configuration fields",id:"other-configuration-fields",level:4},{value:"Install the Crowdin CLI",id:"install-the-crowdin-cli",level:3},{value:"Upload the sources",id:"upload-the-sources",level:3},{value:"Translate the sources",id:"translate-the-sources",level:3},{value:"Download the translations",id:"download-the-translations",level:3},{value:"Automate with CI",id:"automate-with-ci",level:3},{value:"Advanced Crowdin topics",id:"advanced-crowdin-topics",level:2},{value:"MDX",id:"mdx",level:3},{value:"MDX problems",id:"mdx-problems",level:4},{value:"MDX solutions",id:"mdx-solutions",level:4},{value:"Docs versioning",id:"docs-versioning",level:3},{value:"Multi-instance plugins",id:"multi-instance-plugins",level:3},{value:"Maintaining your site",id:"maintaining-your-site",level:3},{value:"VCS (Git) integrations",id:"vcs-git-integrations",level:3},{value:"In-Context localization",id:"in-context-localization",level:3},{value:"Localize edit URLs",id:"localize-edit-urls",level:3},{value:"Example configuration",id:"example-configuration",level:3}],h={toc:g};function f(e){var{components:t}=e,u=c(e,["components"]);return(0,a.kt)("wrapper",s({},h,u,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",s({},{id:"i18n---using-crowdin"}),"i18n - Using Crowdin"),(0,a.kt)("p",null,"The i18n system of Docusaurus is ",(0,a.kt)("strong",{parentName:"p"},"decoupled from any translation software"),"."),(0,a.kt)("p",null,"You can integrate Docusaurus with the ",(0,a.kt)("strong",{parentName:"p"},"tools and SaaS of your choice"),", as long as you put the ",(0,a.kt)("strong",{parentName:"p"},"translation files at the correct location"),"."),(0,a.kt)("p",null,"We document the usage of ",(0,a.kt)("a",s({parentName:"p"},{href:"https://crowdin.com/"}),"Crowdin"),", as ",(0,a.kt)("strong",{parentName:"p"},"one")," possible ",(0,a.kt)("strong",{parentName:"p"},"integration example"),"."),(0,a.kt)("admonition",s({},{type:"caution"}),(0,a.kt)("p",{parentName:"admonition"},"This is ",(0,a.kt)("strong",{parentName:"p"},"not an endorsement of Crowdin")," as the unique choice to translate a Docusaurus site, but it is successfully used by Facebook to translate documentation projects such as ",(0,a.kt)("a",s({parentName:"p"},{href:"https://jestjs.io/"}),"Jest"),", ",(0,a.kt)("a",s({parentName:"p"},{href:"https://docusaurus.io/"}),"Docusaurus"),", and ",(0,a.kt)("a",s({parentName:"p"},{href:"https://reasonml.github.io/"}),"ReasonML"),"."),(0,a.kt)("p",{parentName:"admonition"},"Refer to the ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",s({parentName:"strong"},{href:"https://support.crowdin.com/"}),"Crowdin documentation"))," and ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",s({parentName:"strong"},{href:"mailto:support@crowdin.com"}),"Crowdin support"))," for help.")),(0,a.kt)("admonition",s({},{type:"tip"}),(0,a.kt)("p",{parentName:"admonition"},"Use this ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",s({parentName:"strong"},{href:"https://github.com/facebook/docusaurus/discussions/4052"}),"community-driven GitHub discussion"))," to discuss anything related to Docusaurus + Crowdin.")),(0,a.kt)("h2",s({},{id:"crowdin-overview"}),"Crowdin overview"),(0,a.kt)("p",null,"Crowdin is a translation SaaS, offering a ",(0,a.kt)("a",s({parentName:"p"},{href:"https://crowdin.com/page/open-source-project-setup-request"}),"free plan for open-source projects"),"."),(0,a.kt)("p",null,"We recommend the following translation workflow:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Upload sources")," to Crowdin (untranslated files)"),(0,a.kt)("li",{parentName:"ul"},"Use Crowdin to ",(0,a.kt)("strong",{parentName:"li"},"translate the content")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Download translations")," from Crowdin (localized translation files)")),(0,a.kt)("p",null,"Crowdin provides a ",(0,a.kt)("a",s({parentName:"p"},{href:"https://support.crowdin.com/cli-tool/"}),"CLI")," to ",(0,a.kt)("strong",{parentName:"p"},"upload sources")," and ",(0,a.kt)("strong",{parentName:"p"},"download translations"),", allowing you to automate the translation process."),(0,a.kt)("p",null,"The ",(0,a.kt)("a",s({parentName:"p"},{href:"https://support.crowdin.com/configuration-file/"}),(0,a.kt)("inlineCode",{parentName:"a"},"crowdin.yml")," configuration file")," is convenient for Docusaurus, and permits to ",(0,a.kt)("strong",{parentName:"p"},"download the localized translation files at the expected location")," (in ",(0,a.kt)("inlineCode",{parentName:"p"},"i18n/[locale]/.."),")."),(0,a.kt)("p",null,"Read the ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",s({parentName:"strong"},{href:"https://support.crowdin.com/"}),"official documentation"))," to know more about advanced features and different translation workflows."),(0,a.kt)("h2",s({},{id:"crowdin-tutorial"}),"Crowdin tutorial"),(0,a.kt)("p",null,"This is a walk-through of using Crowdin to translate a newly initialized English Docusaurus website into French, and assume you already followed the ",(0,a.kt)("a",s({parentName:"p"},{href:"/docusarus_test/en/docs/next/i18n/tutorial"}),"i18n tutorial"),"."),(0,a.kt)("p",null,"The end result can be seen at ",(0,a.kt)("a",s({parentName:"p"},{href:"https://docusaurus-crowdin-example.netlify.app/"}),"docusaurus-crowdin-example.netlify.app")," (",(0,a.kt)("a",s({parentName:"p"},{href:"https://github.com/slorber/docusaurus-crowdin-example"}),"repository"),")."),(0,a.kt)("h3",s({},{id:"prepare-the-docusaurus-site"}),"Prepare the Docusaurus site"),(0,a.kt)("p",null,"Initialize a new Docusaurus site:"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-bash"}),"npx create-docusaurus@latest website classic\n")),(0,a.kt)("p",null,"Add the site configuration for the French language:"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-js",metastring:'title="docusaurus.config.js"',title:'"docusaurus.config.js"'}),"module.exports = {\n  i18n: {\n    defaultLocale: 'en',\n    locales: ['en', 'fr'],\n  },\n  themeConfig: {\n    navbar: {\n      items: [\n        // ...\n        {\n          type: 'localeDropdown',\n          position: 'left',\n        },\n        // ...\n      ],\n    },\n  },\n  // ...\n};\n")),(0,a.kt)("p",null,"Translate the homepage:"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-jsx",metastring:'title="src/pages/index.js"',title:'"src/pages/index.js"'}),"import React from 'react';\nimport Translate from '@docusaurus/Translate';\nimport Layout from '@theme/Layout';\n\nexport default function Home() {\n  return (\n    <Layout>\n      <h1 style={{margin: 20}}>\n        <Translate description=\"The homepage main heading\">\n          Welcome to my Docusaurus translated site!\n        </Translate>\n      </h1>\n    </Layout>\n  );\n}\n")),(0,a.kt)("h3",s({},{id:"create-a-crowdin-project"}),"Create a Crowdin project"),(0,a.kt)("p",null,"Sign up on ",(0,a.kt)("a",s({parentName:"p"},{href:"https://crowdin.com/"}),"Crowdin"),", and create a project."),(0,a.kt)("p",null,"Use English as the source language, and French as the target language."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Create a Crowdin project with english as source language, and french as target language",src:n(92050).Z,width:"1868",height:"1576"})),(0,a.kt)("p",null,"Your project is created, but it is empty for now. We will upload the files to translate in the next steps."),(0,a.kt)("h3",s({},{id:"create-the-crowdin-configuration"}),"Create the Crowdin configuration"),(0,a.kt)("p",null,"This configuration (",(0,a.kt)("a",s({parentName:"p"},{href:"https://support.crowdin.com/configuration-file/"}),"doc"),") provides a mapping for the Crowdin CLI to understand:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Where to find the source files to upload (JSON and Markdown)"),(0,a.kt)("li",{parentName:"ul"},"Where to download the files after translation (in ",(0,a.kt)("inlineCode",{parentName:"li"},"i18n/[locale]"),")")),(0,a.kt)("p",null,"Create ",(0,a.kt)("inlineCode",{parentName:"p"},"crowdin.yml")," in ",(0,a.kt)("inlineCode",{parentName:"p"},"website"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-yml",metastring:'title="crowdin.yml"',title:'"crowdin.yml"'}),"project_id: '123456'\napi_token_env: CROWDIN_PERSONAL_TOKEN\npreserve_hierarchy: true\nfiles:\n  # JSON translation files\n  - source: /i18n/en/**/*\n    translation: /i18n/%two_letters_code%/**/%original_file_name%\n  # Docs Markdown files\n  - source: /docs/**/*\n    translation: /i18n/%two_letters_code%/docusaurus-plugin-content-docs/current/**/%original_file_name%\n  # Blog Markdown files\n  - source: /blog/**/*\n    translation: /i18n/%two_letters_code%/docusaurus-plugin-content-blog/**/%original_file_name%\n")),(0,a.kt)("p",null,"Crowdin has its own syntax for declaring source/translation paths:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"**/*"),": everything in a subfolder"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"%two_letters_code%"),": the 2-letters variant of Crowdin target languages (",(0,a.kt)("inlineCode",{parentName:"li"},"fr")," in our case)"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"**/%original_file_name%"),": the translations will preserve the original folder/file hierarchy")),(0,a.kt)("admonition",s({},{type:"info"}),(0,a.kt)("p",{parentName:"admonition"},"The Crowdin CLI warnings are not always easy to understand."),(0,a.kt)("p",{parentName:"admonition"},"We advise to:"),(0,a.kt)("ul",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ul"},"change one thing at a time"),(0,a.kt)("li",{parentName:"ul"},"re-upload sources after any configuration change"),(0,a.kt)("li",{parentName:"ul"},"use paths starting with ",(0,a.kt)("inlineCode",{parentName:"li"},"/")," (",(0,a.kt)("inlineCode",{parentName:"li"},"./")," does not work)"),(0,a.kt)("li",{parentName:"ul"},"avoid fancy globbing patterns like ",(0,a.kt)("inlineCode",{parentName:"li"},"/docs/**/*.(md|mdx)")," (does not work)"))),(0,a.kt)("h4",s({},{id:"access-token"}),"Access token"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"api_token_env")," attribute defines the ",(0,a.kt)("strong",{parentName:"p"},"env variable name")," read by the Crowdin CLI."),(0,a.kt)("p",null,"You can obtain a ",(0,a.kt)("inlineCode",{parentName:"p"},"Personal Access Token")," on ",(0,a.kt)("a",s({parentName:"p"},{href:"https://crowdin.com/settings#api-key"}),"your personal profile page"),"."),(0,a.kt)("admonition",s({},{type:"tip"}),(0,a.kt)("p",{parentName:"admonition"},"You can keep the default value ",(0,a.kt)("inlineCode",{parentName:"p"},"CROWDIN_PERSONAL_TOKEN"),", and set this environment variable and on your computer and on the CI server to the generated access token.")),(0,a.kt)("admonition",s({},{type:"caution"}),(0,a.kt)("p",{parentName:"admonition"},"A Personal Access Tokens grant ",(0,a.kt)("strong",{parentName:"p"},"read-write access to all your Crowdin projects"),"."),(0,a.kt)("p",{parentName:"admonition"},"You should ",(0,a.kt)("strong",{parentName:"p"},"not commit")," it, and it may be a good idea to create a dedicated ",(0,a.kt)("strong",{parentName:"p"},"Crowdin profile for your company")," instead of using a personal account.")),(0,a.kt)("h4",s({},{id:"other-configuration-fields"}),"Other configuration fields"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"project_id"),": can be hardcoded, and is found on ",(0,a.kt)("inlineCode",{parentName:"li"},"https://crowdin.com/project/<MY_PROJECT_NAME>/settings#api")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"preserve_hierarchy"),": preserve the folder's hierarchy of your docs on Crowdin UI instead of flattening everything")),(0,a.kt)("h3",s({},{id:"install-the-crowdin-cli"}),"Install the Crowdin CLI"),(0,a.kt)("p",null,"This tutorial uses the CLI version ",(0,a.kt)("inlineCode",{parentName:"p"},"3.5.2"),", but we expect ",(0,a.kt)("inlineCode",{parentName:"p"},"3.x")," releases to keep working."),(0,a.kt)("p",null,"Install the Crowdin CLI as an npm package to your Docusaurus site:"),(0,a.kt)(o.Z,{groupId:"npm2yarn",mdxType:"Tabs"},(0,a.kt)(r.Z,{value:"npm",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-bash"}),"npm install @crowdin/cli@3\n"))),(0,a.kt)(r.Z,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-bash"}),"yarn add @crowdin/cli@3\n")))),(0,a.kt)("p",null,"Add a ",(0,a.kt)("inlineCode",{parentName:"p"},"crowdin")," script:"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-json",metastring:'title="package.json"',title:'"package.json"'}),'{\n  "scripts": {\n    "crowdin": "crowdin"\n  }\n}\n')),(0,a.kt)("p",null,"Test that you can run the Crowdin CLI:"),(0,a.kt)(o.Z,{groupId:"npm2yarn",mdxType:"Tabs"},(0,a.kt)(r.Z,{value:"npm",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-bash"}),"npm run crowdin -- --version\n"))),(0,a.kt)(r.Z,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-bash"}),"yarn run crowdin -- --version\n")))),(0,a.kt)("p",null,"Set the ",(0,a.kt)("inlineCode",{parentName:"p"},"CROWDIN_PERSONAL_TOKEN")," env variable on your computer, to allow the CLI to authenticate with the Crowdin API."),(0,a.kt)("admonition",s({},{type:"tip"}),(0,a.kt)("p",{parentName:"admonition"},"Temporarily, you can hardcode your personal token in ",(0,a.kt)("inlineCode",{parentName:"p"},"crowdin.yml")," with ",(0,a.kt)("inlineCode",{parentName:"p"},"api_token: 'MY-TOKEN'"),".")),(0,a.kt)("h3",s({},{id:"upload-the-sources"}),"Upload the sources"),(0,a.kt)("p",null,"Generate the JSON translation files for the default language in ",(0,a.kt)("inlineCode",{parentName:"p"},"website/i18n/en"),":"),(0,a.kt)(o.Z,{groupId:"npm2yarn",mdxType:"Tabs"},(0,a.kt)(r.Z,{value:"npm",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-bash"}),"npm run write-translations\n"))),(0,a.kt)(r.Z,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-bash"}),"yarn run write-translations\n")))),(0,a.kt)("p",null,"Upload all the JSON and Markdown translation files:"),(0,a.kt)(o.Z,{groupId:"npm2yarn",mdxType:"Tabs"},(0,a.kt)(r.Z,{value:"npm",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-bash"}),"npm run crowdin upload\n"))),(0,a.kt)(r.Z,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-bash"}),"yarn run crowdin upload\n")))),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Crowdin CLI uploading Docusaurus source files",src:n(8306).Z,width:"1156",height:"682"})),(0,a.kt)("p",null,"Your source files are now visible on the Crowdin interface: ",(0,a.kt)("inlineCode",{parentName:"p"},"https://crowdin.com/project/<MY_PROJECT_NAME>/settings#files")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Crowdin UI showing Docusaurus source files",src:n(77718).Z,width:"2462",height:"1048"})),(0,a.kt)("h3",s({},{id:"translate-the-sources"}),"Translate the sources"),(0,a.kt)("p",null,"On ",(0,a.kt)("inlineCode",{parentName:"p"},"https://crowdin.com/project/<MY_PROJECT_NAME>"),", click on the French target language."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Crowdin UI showing French translation files",src:n(47391).Z,width:"2430",height:"1736"})),(0,a.kt)("p",null,"Translate some Markdown files."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Crowdin UI to translate a Markdown file",src:n(81911).Z,width:"3044",height:"1586"})),(0,a.kt)("admonition",s({},{type:"tip"}),(0,a.kt)("p",{parentName:"admonition"},"Use ",(0,a.kt)("inlineCode",{parentName:"p"},"Hide String")," to make sure translators ",(0,a.kt)("strong",{parentName:"p"},"don't translate things that should not be"),":"),(0,a.kt)("ul",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ul"},"Front matter: ",(0,a.kt)("inlineCode",{parentName:"li"},"id"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"slug"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"tags")," ..."),(0,a.kt)("li",{parentName:"ul"},"Admonitions: ",(0,a.kt)("inlineCode",{parentName:"li"},":::"),", ",(0,a.kt)("inlineCode",{parentName:"li"},":::note"),", ",(0,a.kt)("inlineCode",{parentName:"li"},":::tip")," ...")),(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("img",{alt:"Crowdin UI hide string",src:n(26498).Z,width:"1518",height:"698"}))),(0,a.kt)("p",null,"Translate some JSON files."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Crowdin UI to translate a JSON file",src:n(84111).Z,width:"2868",height:"1490"})),(0,a.kt)("admonition",s({},{type:"info"}),(0,a.kt)("p",{parentName:"admonition"},"The ",(0,a.kt)("inlineCode",{parentName:"p"},"description")," attribute of JSON translation files is visible on Crowdin to help translate the strings.")),(0,a.kt)("admonition",s({},{type:"tip"}),(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",s({parentName:"strong"},{href:"https://support.crowdin.com/pre-translation-via-machine/"}),"Pre-translate"))," your site, and ",(0,a.kt)("strong",{parentName:"p"},"fix pre-translation mistakes manually")," (enable the Global Translation Memory in settings first)."),(0,a.kt)("p",{parentName:"admonition"},"Use the ",(0,a.kt)("inlineCode",{parentName:"p"},"Hide String")," feature first, as Crowdin is pre-translating things too optimistically.")),(0,a.kt)("h3",s({},{id:"download-the-translations"}),"Download the translations"),(0,a.kt)("p",null,"Use the Crowdin CLI to download the translated JSON and Markdown files."),(0,a.kt)(o.Z,{groupId:"npm2yarn",mdxType:"Tabs"},(0,a.kt)(r.Z,{value:"npm",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-bash"}),"npm run crowdin download\n"))),(0,a.kt)(r.Z,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-bash"}),"yarn run crowdin download\n")))),(0,a.kt)("p",null,"The translated content should be downloaded in ",(0,a.kt)("inlineCode",{parentName:"p"},"i18n/fr"),"."),(0,a.kt)("p",null,"Start your site on the French locale:"),(0,a.kt)(o.Z,{groupId:"npm2yarn",mdxType:"Tabs"},(0,a.kt)(r.Z,{value:"npm",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-bash"}),"npm run start -- --locale fr\n"))),(0,a.kt)(r.Z,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-bash"}),"yarn run start -- --locale fr\n")))),(0,a.kt)("p",null,"Make sure that your website is now translated in French at ",(0,a.kt)("a",s({parentName:"p"},{href:"http://localhost:3000/fr/"}),"http://localhost:3000/fr/"),"."),(0,a.kt)("h3",s({},{id:"automate-with-ci"}),"Automate with CI"),(0,a.kt)("p",null,"We will configure the CI to ",(0,a.kt)("strong",{parentName:"p"},"download the Crowdin translations at build time")," and keep them outside of Git."),(0,a.kt)("p",null,"Add ",(0,a.kt)("inlineCode",{parentName:"p"},"website/i18n")," to ",(0,a.kt)("inlineCode",{parentName:"p"},".gitignore"),"."),(0,a.kt)("p",null,"Set the ",(0,a.kt)("inlineCode",{parentName:"p"},"CROWDIN_PERSONAL_TOKEN")," env variable on your CI."),(0,a.kt)("p",null,"Create an npm script to ",(0,a.kt)("inlineCode",{parentName:"p"},"sync")," Crowdin (extract sources, upload sources, download translations):"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-json",metastring:'title="package.json"',title:'"package.json"'}),'{\n  "scripts": {\n    "crowdin:sync": "docusaurus write-translations && crowdin upload && crowdin download"\n  }\n}\n')),(0,a.kt)("p",null,"Call the ",(0,a.kt)("inlineCode",{parentName:"p"},"npm run crowdin:sync")," script in your CI, just before building the Docusaurus site."),(0,a.kt)("admonition",s({},{type:"tip"}),(0,a.kt)("p",{parentName:"admonition"},"Keep your deploy-previews fast: don't download translations, and use ",(0,a.kt)("inlineCode",{parentName:"p"},"npm run build -- --locale en")," for feature branches.")),(0,a.kt)("admonition",s({},{type:"caution"}),(0,a.kt)("p",{parentName:"admonition"},"Crowdin does not support well multiple concurrent uploads/downloads: it is preferable to only include translations to your production deployment, and keep deploy previews untranslated.")),(0,a.kt)("h2",s({},{id:"advanced-crowdin-topics"}),"Advanced Crowdin topics"),(0,a.kt)("h3",s({},{id:"mdx"}),"MDX"),(0,a.kt)("admonition",s({},{type:"caution"}),(0,a.kt)("p",{parentName:"admonition"},"Pay special attention to the JSX fragments in MDX documents!")),(0,a.kt)("p",null,"Crowdin ",(0,a.kt)("strong",{parentName:"p"},"does not support officially MDX"),", but they added ",(0,a.kt)("strong",{parentName:"p"},"support for the ",(0,a.kt)("inlineCode",{parentName:"strong"},".mdx")," extension"),", and interpret such files as Markdown (instead of plain text)."),(0,a.kt)("h4",s({},{id:"mdx-problems"}),"MDX problems"),(0,a.kt)("p",null,"Crowdin thinks that the JSX syntax is embedded HTML and can mess up with the JSX markup when you download the translations, leading to a site that fails to build due to invalid JSX."),(0,a.kt)("p",null,"Simple JSX fragments using simple string props like ",(0,a.kt)("inlineCode",{parentName:"p"},'<Username name="Sebastien"/>')," will work fine; more complex JSX fragments using object/array props like ",(0,a.kt)("inlineCode",{parentName:"p"},'<User person={{name: "Sebastien"}}/>')," are more likely to fail due to a syntax that does not look like HTML."),(0,a.kt)("h4",s({},{id:"mdx-solutions"}),"MDX solutions"),(0,a.kt)("p",null,"We recommend extracting the complex embedded JSX code as separate standalone components. We also added an ",(0,a.kt)("inlineCode",{parentName:"p"},"mdx-code-block")," escape hatch syntax:"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-text"}),'# How to deploy Docusaurus\n\nTo deploy Docusaurus, run the following command:\n\n````mdx-code-block\nimport Tabs from \'@theme/Tabs\';\n\nimport TabItem from \'@theme/TabItem\';\n\n<Tabs>\n  <TabItem value="bash" label="Bash">\n\n  ```bash\n  GIT_USER=<GITHUB_USERNAME> yarn deploy\n  ```\n\n  </TabItem>\n  <TabItem value="windows" label="Windows">\n\n  ```batch\n  cmd /C "set "GIT_USER=<GITHUB_USERNAME>" && yarn deploy"\n  ```\n\n  </TabItem>\n</Tabs>\n````\n')),(0,a.kt)("p",null,"This will:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"be interpreted by Crowdin as code blocks (and not mess-up with the markup on download)"),(0,a.kt)("li",{parentName:"ul"},"be interpreted by Docusaurus as regular JSX (as if it was not wrapped by any code block)"),(0,a.kt)("li",{parentName:"ul"},"unfortunately opt-out of MDX tooling (IDE syntax highlighting, Prettier...)")),(0,a.kt)("h3",s({},{id:"docs-versioning"}),"Docs versioning"),(0,a.kt)("p",null,"Configure translation files for the ",(0,a.kt)("inlineCode",{parentName:"p"},"website/versioned_docs")," folder."),(0,a.kt)("p",null,"When creating a new version, the source strings will generally be quite similar to the current version (",(0,a.kt)("inlineCode",{parentName:"p"},"website/docs"),"), and you don't want to translate the new version docs again and again."),(0,a.kt)("p",null,"Crowdin provides a ",(0,a.kt)("inlineCode",{parentName:"p"},"Duplicate Strings")," setting."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Crowdin Duplicate Strings option setting",src:n(67570).Z,width:"1422",height:"368"})),(0,a.kt)("p",null,"We recommend using ",(0,a.kt)("inlineCode",{parentName:"p"},"Hide"),", but the ideal setting depends on how much your versions are different."),(0,a.kt)("admonition",s({},{type:"caution"}),(0,a.kt)("p",{parentName:"admonition"},"Not using ",(0,a.kt)("inlineCode",{parentName:"p"},"Hide")," leads to a much larger amount of ",(0,a.kt)("inlineCode",{parentName:"p"},"source strings")," in quotas, and will affect the pricing.")),(0,a.kt)("h3",s({},{id:"multi-instance-plugins"}),"Multi-instance plugins"),(0,a.kt)("p",null,"You need to configure translation files for each plugin instance."),(0,a.kt)("p",null,"If you have a docs plugin instance with ",(0,a.kt)("inlineCode",{parentName:"p"},"id=ios"),", you will need to configure those source files as well"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"website/ios")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"website/ios_versioned_docs")," (if versioned)")),(0,a.kt)("h3",s({},{id:"maintaining-your-site"}),"Maintaining your site"),(0,a.kt)("p",null,"Sometimes, you will ",(0,a.kt)("strong",{parentName:"p"},"remove or rename a source file")," on Git, and Crowdin will display CLI warnings:"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Crowdin CLI: download translation warning",src:n(32216).Z,width:"2268",height:"886"})),(0,a.kt)("p",null,"When your sources are refactored, you should use the Crowdin UI to ",(0,a.kt)("strong",{parentName:"p"},"update your Crowdin files manually"),":"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Crowdin UI: renaming a file",src:n(76001).Z,width:"2472",height:"1186"})),(0,a.kt)("h3",s({},{id:"vcs-git-integrations"}),"VCS (Git) integrations"),(0,a.kt)("p",null,"Crowdin has multiple VCS integrations for ",(0,a.kt)("a",s({parentName:"p"},{href:"https://support.crowdin.com/github-integration/"}),"GitHub"),", GitLab, Bitbucket."),(0,a.kt)("admonition",s({},{title:"TL;DR",type:"warning"}),(0,a.kt)("p",{parentName:"admonition"},"We recommend avoiding them.")),(0,a.kt)("p",null,"It could have been helpful to be able to edit the translations in both Git and Crowdin, and have a ",(0,a.kt)("strong",{parentName:"p"},"bi-directional sync")," between the 2 systems."),(0,a.kt)("p",null,"In practice, ",(0,a.kt)("strong",{parentName:"p"},"it didn't work very reliably")," for a few reasons:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"The Crowdin -> Git sync works fine (with a pull request)"),(0,a.kt)("li",{parentName:"ul"},"The Git -> Crowdin sync is manual (you have to press a button)"),(0,a.kt)("li",{parentName:"ul"},"The heuristics used by Crowdin to match existing Markdown translations to existing Markdown sources are not 100% reliable, and you have to verify the result on Crowdin UI after any sync from Git"),(0,a.kt)("li",{parentName:"ul"},"2 users concurrently editing on Git and Crowdin can lead to a translation loss"),(0,a.kt)("li",{parentName:"ul"},"It requires the ",(0,a.kt)("inlineCode",{parentName:"li"},"crowdin.yml")," file to be at the root of the repository")),(0,a.kt)("h3",s({},{id:"in-context-localization"}),"In-Context localization"),(0,a.kt)("p",null,"Crowdin has an ",(0,a.kt)("a",s({parentName:"p"},{href:"https://support.crowdin.com/in-context-localization/"}),"In-Context localization")," feature."),(0,a.kt)("admonition",s({},{type:"caution"}),(0,a.kt)("p",{parentName:"admonition"},"Unfortunately, it does not work yet for technical reasons, but we have good hope it can be solved."),(0,a.kt)("p",{parentName:"admonition"},"Crowdin replaces Markdown strings with technical IDs such as ",(0,a.kt)("inlineCode",{parentName:"p"},"crowdin:id12345"),", but it does so too aggressively, including hidden strings, and messes up with front matter, admonitions, JSX...")),(0,a.kt)("h3",s({},{id:"localize-edit-urls"}),"Localize edit URLs"),(0,a.kt)("p",null,"When the user is browsing a page at ",(0,a.kt)("inlineCode",{parentName:"p"},"/fr/doc1"),", the edit button will link by default to the unlocalized doc at ",(0,a.kt)("inlineCode",{parentName:"p"},"website/docs/doc1.md"),"."),(0,a.kt)("p",null,"You may prefer the edit button to link to the Crowdin interface instead by using the ",(0,a.kt)("inlineCode",{parentName:"p"},"editUrl")," function to customize the edit URLs on a per-locale basis."),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-js",metastring:'title="docusaurus.config.js"',title:'"docusaurus.config.js"'}),"const DefaultLocale = 'en';\n\nmodule.exports = {\n  presets: [\n    [\n      '@docusaurus/preset-classic',\n      {\n        docs: {\n          // highlight-start\n          editUrl: ({locale, versionDocsDirPath, docPath}) => {\n            // Link to Crowdin for French docs\n            if (locale !== DefaultLocale) {\n              return `https://crowdin.com/project/docusaurus-v2/${locale}`;\n            }\n            // Link to GitHub for English docs\n            return `https://github.com/facebook/docusaurus/edit/main/website/${versionDocsDirPath}/${docPath}`;\n          },\n          // highlight-end\n        },\n        blog: {\n          // highlight-start\n          editUrl: ({locale, blogDirPath, blogPath}) => {\n            if (locale !== DefaultLocale) {\n              return `https://crowdin.com/project/docusaurus-v2/${locale}`;\n            }\n            return `https://github.com/facebook/docusaurus/edit/main/website/${blogDirPath}/${blogPath}`;\n          },\n          // highlight-start\n        },\n      },\n    ],\n  ],\n};\n")),(0,a.kt)("admonition",s({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"It is currently ",(0,a.kt)("strong",{parentName:"p"},"not possible to link to a specific file")," in Crowdin.")),(0,a.kt)("h3",s({},{id:"example-configuration"}),"Example configuration"),(0,a.kt)("p",null,"The ",(0,a.kt)("strong",{parentName:"p"},"Docusaurus v2 configuration file")," is a good example of using versioning and multi-instance:"),(0,a.kt)(l.Z,{className:"language-yaml",title:"crowdin.yml",mdxType:"CodeBlock"},i.Z.split("\n").map((e=>!e.startsWith("#")&&e)).filter(Boolean).join("\n")))}f.isMDXComponent=!0},92050:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/crowdin-create-project-2fe25e5974adc027f7ac2c36f1717de1.png"},32216:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/crowdin-download-translations-warning-cb747bdcfc38beabea491f63781b9b40.png"},76001:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/crowdin-files-rename-5ff9bf66f6123800006cf38ead6b66ae.png"},47391:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/crowdin-french-translations-4f252e7f63a781628378eeb3a9fefb39.png"},26498:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/crowdin-hide-string-5e470a33a42e044379bf6860ff534b50.png"},67570:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/crowdin-settings-duplicate-strings-6943e2e4cab8910625a0b6c285052726.png"},77718:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/crowdin-source-files-0ba8c0433421141418462c3bf6de22ed.png"},84111:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/crowdin-translate-json-39a6b98aa60a84eba22b2f5834cbb97d.png"},81911:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/crowdin-translate-markdown-0651cd22b5f07f0e9b3031ffaebbc5b6.png"},8306:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/crowdin-upload-sources-cli-5758c2f4d4256ac05d21b637d1d517bb.png"}}]);